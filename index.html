<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">


    <title>Simulasi BCA Syariah</title>
    <link href="css/bootstrap.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <div class="container">
        <h2>SIMULASI KKB - Bisnis Ritel Konsumer -</h2>

        <div class="row">
            <div class="col-xs-12 col-sm-12 col-lg-6 col-md-6">
                <h3>Input Data</h3>
                <form method="post" onsubmit="return process()">
                    <div class="form-group">
                        <label for="jns_mbl">Jenis mobil</label>
                        <select name="jns_mbl" id="jns_mbl" class="form-control input-sm">
                            <option value="Baru">Baru</option>
                            <option value="Bekas">Bekas</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="jk_wkt">Jangka Waktu (tahun)</label>
                        <select name="jk_wkt" id="jk_wkt" class="form-control input-sm">
                            <option value="12">1 tahun</option>
                            <option value="24">2 tahun</option>
                            <option value="36">3 tahun</option>
                            <option value="48">4 tahun</option>
                            <option value="60">5 tahun</option>
                            <option value="72">6 tahun</option>
                            <option value="84">7 tahun</option>
                            <option value="96">8 tahun</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="wilayah">Wilayah</label>
                        <select name="wilayah" id="wilayah" class="form-control input-sm">
                            <option value="1">Wilayah 1 : Sumatera</option>
                            <option value="2">Wilayah 2 : Banten, DKI, Jabar</option>
                            <option value="3">Wilayah 3 : Selain 1 dan 2</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="merk">Merk / Produksi</label>
                        <select name="merk" id="merk" class="form-control input-sm">
                            <option value="New Avanza">New Avanza</option>
                            <option value="New Veloz">New Veloz</option>
                            <option value="All New Innova">All New Innova</option>
                            <option value="All New Fortuner">All New Fortuner</option>
                            <option value="Rush">Rush</option>
                            <option value="New Jazz">New Jazz</option>
                            <option value="HRV">HRV</option>
                            <option value="CRV">CRV</option>
                            <option value="Mobilio">Mobilio</option>
                            <option value="Xpander">Xpander</option>
                            <option value="New Pajero Sport">New Pajero Sport</option>
                            <option value="Xenia">Xenia</option>
                            <option value="All New Terios">All New Terios</option>
                            <option value="All New Ertiga">All New Ertiga</option>
                            <option value="Suzuki Lainnya">Suzuki Lainnya</option>
                            <option value="Toyota Lainnya">Toyota Lainnya</option>
                            <option value="Daihatsu Lainnya">Daihatsu Lainnya</option>
                            <option value="Honda Lainnya">Honda Lainnya</option>
                            <option value="Merk Jepang lain dan non Jepang">Merk Jepang lain dan non Jepang</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pekerjaan">Pekerjaan</label>
                        <select name="pekerjaan" id="pekerjaan" class="form-control input-sm">
                            <option value="Karyawan">Karyawan</option>
                            <option value="Wiraswasta">Wiraswasta</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="pricelist">Harga Pricelist (Showroom)</label>
                        <input type="number" name="pricelist" id="pricelist" class="form-control input-sm" required="required" autofocus placeholder="Contoh : 300000000" />
                    </div>
                    <div class="form-group">
                        <label for="discount">Discount Dealer/Showroom</label>
                        <input type="number" name="discount" id="discount" class="form-control input-sm" required="required" autofocus placeholder="Contoh : 300000000" />
                    </div>
                    <div class="form-group">
                        <label for="uang_muka_persen">Uang Muka (minimal 20% (dalam %))</label>
                        <input type="number" name="uang_muka_persen" min="1" id="uang_muka_persen" class="form-control input-sm" required="required" placeholder="Contoh : 20" />
                    </div>


                
                

                    <button type="submit" class="btn btn-primary btn-md col-xs-12">HITUNG CICILAN</button>
                </form>
            </div>


                <h3>Hasil Simulasi</h3>
                <table class="table">
                    <tbody>
                        <tr>
                            <td rowspan="2" valign="top">Jenis mobil </td>
 			</tr>
 			<tr>
                            <td> = <span id="jm"></span></td>
                        </tr>
                        <tr>
                            <td rowspan="2" valign="top">Jangka Waktu (tahun)</td>
 			</tr>
 			<tr>
                            <td> = <span id="jk"></span> bulan</td>
                        </tr>
                        <tr>
                            <td rowspan="2" valign="top">Wilayah</td>
 			</tr>
 			<tr>
                            <td> = <span id="wila"></span></td>
                        </tr>
                            <td rowspan="2" valign="top">Merk / Produksi</td>
 			</tr>
 			<tr>
                            <td> = <span id="mk"></span></td>
                        </tr>
 			<tr>
                            <td rowspan="2" valign="top">Pekerjaan</td>
 			</tr>
 			<tr>
                            <td> = <span id="pk"></span></td>
                        </tr>
 			<tr>
                            <td rowspan="2" valign="top">Harga Pricelist (Showroom)</td>
 			</tr>
 			<tr>
                            <td> = Rp <span id="price"></span></td>
                        </tr>
 			<tr>
                            <td rowspan="2" valign="top">Discount Dealer/Showroom</td>
 			</tr>
 			<tr>
                            <td> = Rp <span id="disc"></span></td>
                        </tr>
 			<tr>
                            <td rowspan="2" valign="top">Harga OTR</td>
 			</tr>
 			<tr>
                            <td> = Rp <strong><span id="otr"></span></strong></td>
                        </tr>
 			<tr>
                            <td rowspan="2" valign="top">Uang Muka</td>
 			</tr>
 			<tr>
                            <td> = Rp <strong><span id="um"></span></strong></td>
                        </tr>
			<tr>
                            <td rowspan="2" valign="top">Total Pembiayaan</td>
 			</tr>
 			<tr>
                            <td> = Rp <strong><span id="tb"></span></strong></td>
                        </tr>
            <tr>
                            <td rowspan="2" valign="top">Angsuran Per Bulan</td>
 			</tr>
 			<tr>
                            <td> = Rp <strong><span id="efr"></span></strong></td>
                        </tr>
            <tr>
                            <td rowspan="1" valign="top">Biaya - Biaya</td>
 			</tr>
             <tr>
                         <td rowspan="2" valign="top">Assuransi Sinarmas</td>
            </tr>
            <tr>
                            <td> = Rp <strong><span id="ass"></span></strong></td>
            </tr>

                    </tbody>
                </table>
        </div>
        
        <hr />



    </div> <!-- /container -->

<script type="text/javascript">
function process(e)
{
    if (!e) e = window.event;
    e.preventDefault();


    var jns_mbl  = document.getElementById('jns_mbl').value;
    var jk_wkt  = document.getElementById('jk_wkt').value;
    var wilayah  = document.getElementById('wilayah').value;
    var merk  = document.getElementById('merk').value;
    var pekerjaan  = document.getElementById('pekerjaan').value;
    var pricelist  = parseInt(document.getElementById('pricelist').value);
    var discount  = parseInt(document.getElementById('discount').value);
    var uang_muka_persen = parseInt(document.getElementById('uang_muka_persen').value);
    const LIMIT = 40;


    var jm = jns_mbl;
    var jk = jk_wkt;
    var wil = wilayah;
    var mk = merk;
    var pk = pekerjaan;
    var price = pricelist;
    var disc = discount;    
    var otr = pricelist - discount;    
    var um = pricelist * (uang_muka_persen / 100);    
    var tb = otr - um;
    var efr1 = 0.04130 / 12;
    var efr2 = 0.06120 / 12;
    var efr3 = 0.05590 / 12;
    var efr4 = 0.07030 / 12;
    var efr5 = 0.08380 / 12; 
    var efr6 = 0.08300 / 12; 
    var efr7 = 0.08220 / 12; 
    var efr8 = 0.08140 / 12;
    var pvif1 = Math.pow(1 + efr1, 12);
    var pvif2 = Math.pow(1 + efr2, 24);
    var pvif3 = Math.pow(1 + efr3, 36);
    var pvif4 = Math.pow(1 + efr4, 48);
    var pvif5 = Math.pow(1 + efr5, 60);
    var pvif6 = Math.pow(1 + efr6, 72);
    var pvif7 = Math.pow(1 + efr7, 84);
    var pvif8 = Math.pow(1 + efr8, 96);
    var pmt1 = ((- efr1 * (tb * pvif1 + 0) / (pvif1 - 1)) * -1).toFixed(2);
    var pmt2 = ((- efr2 * (tb * pvif2 + 0) / (pvif2 - 1)) * -1).toFixed(2);
    var pmt3 = ((- efr3 * (tb * pvif3 + 0) / (pvif3 - 1)) * -1).toFixed(2);
    var pmt4 = ((- efr4 * (tb * pvif4 + 0) / (pvif4 - 1)) * -1).toFixed(2);
    var pmt5 = ((- efr5 * (tb * pvif5 + 0) / (pvif5 - 1)) * -1).toFixed(2);
    var pmt6 = ((- efr6 * (tb * pvif6 + 0) / (pvif6 - 1)) * -1).toFixed(2);
    var pmt7 = ((- efr7 * (tb * pvif7 + 0) / (pvif7 - 1)) * -1).toFixed(2);
    var pmt8 = ((- efr8 * (tb * pvif8 + 0) / (pvif8 - 1)) * -1).toFixed(2);
    var deper1 = otr * (100 / 100);
    var deper2 = otr * (85 / 100);
    var deper3 = otr * (75 / 100);
    var deper4 = otr * (70 / 100);
    var deper5 = otr * (65 / 100);
    var deper6 = otr * (60 / 100);
    var deper7 = otr * (60 / 100);
    var deper8 = otr * (60 / 100);
    var wil1th1 = deper1 * (3.82 / 100);
    var wil1th2 = deper2 * (3.82 / 100);
    var wil1th3 = deper3 * (0.47 / 100);
    var wil1th4 = deper4 * (0.47 / 100);
    var wil1th5 = deper5 * (0.47 / 100);
    var wil1th6 = deper6 * (0.47 / 100);
    var wil1th7 = deper7 * (0.47 / 100);
    var wil1th8 = deper8 * (0.47 / 100);
    var wil2th1 = deper1 * (3.26 / 100);
    var wil2th2 = deper2 * (3.26 / 100);
    var wil2th3 = deper3 * (0.65 / 100);
    var wil2th4 = deper4 * (0.65 / 100);
    var wil2th5 = deper5 * (0.65 / 100);
    var wil2th6 = deper6 * (0.65 / 100);
    var wil2th7 = deper7 * (0.65 / 100);
    var wil2th8 = deper8 * (0.65 / 100);
    var wil3th1 = deper1 * (2.53 / 100);
    var wil3th2 = deper2 * (2.53 / 100);
    var wil3th3 = deper3 * (0.51 / 100);
    var wil3th4 = deper4 * (0.51 / 100);
    var wil3th5 = deper5 * (0.51 / 100);
    var wil3th6 = deper6 * (0.51 / 100);
    var wil3th7 = deper7 * (0.51 / 100);
    var wil3th8 = deper8 * (0.51 / 100);
    var ass1 = wil1th1;
    var ass2 = wil2th1;
    var ass3 = wil3th1;
    var ass4 = wil1th1 + wil1th2;
    var ass5 = wil2th1 + wil2th2;
    var ass6 = wil3th1 + wil3th2;
    var ass7 = wil1th1 + wil1th2 + wil1th3;
    var ass8 = wil2th1 + wil2th2 + wil2th3;
    var ass9 = wil3th1 + wil3th2 + wil3th3;
    var ass10 = wil1th1 + wil1th2 + wil1th3 + wil1th4;
    var ass11 = wil2th1 + wil2th2 + wil2th3 + wil2th4;
    var ass12 = wil3th1 + wil3th2 + wil3th3 + wil3th4;
    var ass13 = wil1th1 + wil1th2 + wil1th3 + wil1th4 + wil1th5;
    var ass14 = wil2th1 + wil2th2 + wil2th3 + wil2th4 + wil2th5;
    var ass15 = wil3th1 + wil3th2 + wil3th3 + wil3th4 + wil3th5;
    var ass16 = wil1th1 + wil1th2 + wil1th3 + wil1th4 + wil1th5 + wil1th6;
    var ass17 = wil2th1 + wil2th2 + wil2th3 + wil2th4 + wil2th5 + wil2th6;
    var ass18 = wil3th1 + wil3th2 + wil3th3 + wil3th4 + wil3th5 + wil3th6;
    var ass19 = wil1th1 + wil1th2 + wil1th3 + wil1th4 + wil1th5 + wil1th6 + wil1th7;
    var ass20 = wil2th1 + wil2th2 + wil2th3 + wil2th4 + wil2th5 + wil2th6 + wil2th7;
    var ass21 = wil3th1 + wil3th2 + wil3th3 + wil3th4 + wil3th5 + wil3th6 + wil3th7;
    var ass22 = wil1th1 + wil1th2 + wil1th3 + wil1th4 + wil1th5 + wil1th6 + wil1th7 + wil1th8;
    var ass23 = wil2th1 + wil2th2 + wil2th3 + wil2th4 + wil2th5 + wil2th6 + wil2th7 + wil2th8;
    var ass24 = wil3th1 + wil3th2 + wil3th3 + wil3th4 + wil3th5 + wil3th6 + wil3th7 + wil3th8;
    


    if (wil == 1) {
        wila = "Wilayah 1 : Sumatera";
    } else if (wil == 2) {
        wila = "Wilayah 2 : Banten, DKI, Jabar";
    } else if (wil == 3) {
        wila = "Wilayah 3 : Selain 1 dan 2";
    } else {
        wila = "Wilayah 1 : Sumatera";
    }
    document.getElementById('wila').innerHTML = wila;



    if (jk == 12) {
        efr = pmt1;
    } else if (jk == 24) {
        efr = pmt2;
    } else if (jk == 36) {
        efr = pmt3;
    } else if (jk == 48) {
        efr = pmt4;
    } else if (jk == 60) {
        efr = pmt5;
    } else if (jk == 72) {
        efr = pmt6;
    } else if (jk == 84) {
        efr = pmt7;
    } else if (jk == 96) {
        efr = pmt8;
    } else {
        efr = pmt3;
    }
    document.getElementById('efr').innerHTML = addCommas(efr);


    if (jk == 12 && wil == 1) {
        ass = ass1;
    } else if (jk == 12 && wil == 2) {
        ass = ass2.toFixed(2);
    } else if (jk == 12 && wil == 3) {
        ass = ass3;
    } else if (jk == 24 && wil == 1) {
        ass = ass4;
    } else if (jk == 24 && wil == 2) {
        ass = ass5.toFixed(2);
    } else if (jk == 24 && wil == 3) {
        ass = ass6;
    } else if (jk == 36 && wil == 1) {
        ass = ass7;
    } else if (jk == 36 && wil == 2) {
        ass = ass8.toFixed(2);
    } else if (jk == 36 && wil == 3) {
        ass = ass9;
    } else if (jk == 48 && wil == 1) {
        ass = ass10;
    } else if (jk == 48 && wil == 2) {
        ass = ass11.toFixed(2);
    } else if (jk == 48 && wil == 3) {
        ass = ass12;
    } else if (jk == 60 && wil == 1) {
        ass = ass13;
    } else if (jk == 60 && wil == 2) {
        ass = ass14.toFixed(2);
    } else if (jk == 60 && wil == 3) {
        ass = ass15;
    } else if (jk == 72 && wil == 1) {
        ass = ass16;
    } else if (jk == 72 && wil == 2) {
        ass = ass17.toFixed(2);
    } else if (jk == 72 && wil == 3) {
        ass = ass18;
    } else if (jk == 84 && wil == 1) {
        ass = ass19;
    } else if (jk == 84 && wil == 2) {
        ass = ass20.toFixed(2);
    } else if (jk == 84 && wil == 3) {
        ass = ass21;
    } else if (jk == 96 && wil == 1) {
        ass = ass22;
    } else if (jk == 96 && wil == 2) {
        ass = ass23.toFixed(2);
    } else if (jk == 96 && wil == 3) {
        ass = ass24;
    } else {
        ass = wil1th1;
    }
    document.getElementById('ass').innerHTML = addCommas(ass);


    document.getElementById('jm').innerHTML = jns_mbl;
    document.getElementById('jk').innerHTML = jk_wkt;
    document.getElementById('mk').innerHTML = merk;
    document.getElementById('pk').innerHTML = pekerjaan;
    document.getElementById('price').innerHTML = addCommas(pricelist);
    document.getElementById('disc').innerHTML = addCommas(discount);
    document.getElementById('otr').innerHTML = addCommas(otr);
    document.getElementById('um').innerHTML = addCommas(um);
    document.getElementById('tb').innerHTML = addCommas(tb);
    document.getElementById('jm').innerHTML = deper1;

}

function addCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

</script>

</body>
</html>